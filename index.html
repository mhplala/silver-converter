<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æœˆè–ªæ¢é“¶å­ ğŸ’°</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }
    
    .container {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border-radius: 24px;
      padding: 40px;
      max-width: 500px;
      width: 100%;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .header h1 {
      color: #C0C0C0;
      font-size: 2.5em;
      text-shadow: 0 0 20px rgba(192, 192, 192, 0.5);
      margin-bottom: 10px;
    }
    
    .header .subtitle {
      color: #888;
      font-size: 0.9em;
    }
    
    .silver-icon {
      font-size: 4em;
      margin-bottom: 15px;
      animation: shine 2s ease-in-out infinite;
    }
    
    @keyframes shine {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.3); }
    }
    
    .price-display {
      background: rgba(192, 192, 192, 0.1);
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 25px;
      text-align: center;
    }
    
    .price-display .label {
      color: #888;
      font-size: 0.85em;
      margin-bottom: 5px;
    }
    
    .price-display .price {
      color: #C0C0C0;
      font-size: 1.8em;
      font-weight: bold;
    }
    
    .price-display .change {
      font-size: 0.9em;
      margin-top: 5px;
    }
    
    .change.up { color: #4ade80; }
    .change.down { color: #f87171; }
    
    .input-group {
      margin-bottom: 20px;
    }
    
    .input-group label {
      display: block;
      color: #aaa;
      margin-bottom: 8px;
      font-size: 0.9em;
    }
    
    .input-wrapper {
      position: relative;
      display: flex;
      align-items: center;
    }
    
    .input-wrapper .prefix {
      position: absolute;
      left: 15px;
      color: #888;
      font-size: 1.1em;
    }
    
    .input-wrapper input {
      width: 100%;
      padding: 15px 15px 15px 45px;
      font-size: 1.2em;
      border: 2px solid rgba(192, 192, 192, 0.2);
      border-radius: 12px;
      background: rgba(0, 0, 0, 0.3);
      color: #fff;
      outline: none;
      transition: border-color 0.3s;
    }
    
    .input-wrapper input:focus {
      border-color: #C0C0C0;
    }
    
    .input-wrapper input::placeholder {
      color: #555;
    }
    
    .result-card {
      background: linear-gradient(135deg, #4a4a4a 0%, #2d2d2d 100%);
      border-radius: 16px;
      padding: 25px;
      text-align: center;
      margin-top: 25px;
      border: 2px solid #C0C0C0;
      box-shadow: 0 0 30px rgba(192, 192, 192, 0.2);
    }
    
    .result-card .taels {
      font-size: 3.5em;
      font-weight: bold;
      color: #C0C0C0;
      text-shadow: 0 0 20px rgba(192, 192, 192, 0.5);
      line-height: 1.2;
    }
    
    .result-card .unit {
      font-size: 1.5em;
      color: #888;
      margin-top: 5px;
    }
    
    .result-card .context {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      color: #888;
      font-size: 0.9em;
      line-height: 1.6;
    }
    
    .fun-facts {
      margin-top: 25px;
      padding: 15px;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 12px;
      font-size: 0.85em;
      color: #666;
    }
    
    .fun-facts h3 {
      color: #888;
      font-size: 0.9em;
      margin-bottom: 10px;
    }
    
    .fun-facts ul {
      list-style: none;
      padding-left: 0;
    }
    
    .fun-facts li {
      padding: 5px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }
    
    .fun-facts li:last-child {
      border-bottom: none;
    }
    
    .settings {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }
    
    .settings select {
      flex: 1;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid rgba(192, 192, 192, 0.2);
      background: rgba(0, 0, 0, 0.3);
      color: #fff;
      font-size: 0.9em;
      cursor: pointer;
    }
    
    .refresh-btn {
      background: rgba(192, 192, 192, 0.2);
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      color: #C0C0C0;
      cursor: pointer;
      transition: background 0.3s;
    }
    
    .refresh-btn:hover {
      background: rgba(192, 192, 192, 0.3);
    }
    
    .loading {
      text-align: center;
      color: #888;
      padding: 20px;
    }
    
    .error {
      background: rgba(248, 113, 113, 0.1);
      border: 1px solid rgba(248, 113, 113, 0.3);
      color: #f87171;
      padding: 10px;
      border-radius: 8px;
      text-align: center;
      margin-bottom: 15px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="silver-icon">ğŸ¥ˆ</div>
      <h1>æœˆè–ªæ¢é“¶å­</h1>
      <p class="subtitle">çœ‹çœ‹ä½ çš„æœˆè–ªåœ¨å¤ä»£å€¼å¤šå°‘ä¸¤ç™½é“¶</p>
    </div>
    
    <div class="price-display">
      <div class="label">å®æ—¶å›½é™…é“¶ä»·</div>
      <div class="price" id="silverPrice">åŠ è½½ä¸­...</div>
      <div class="change" id="priceChange"></div>
    </div>
    
    <div class="settings">
      <select id="taelType">
        <option value="50">å¸‚ä¸¤ (50g)</option>
        <option value="37.429">æ¸¯ä¸¤ (37.4g)</option>
        <option value="31.1035">é‡‘è¡¡ä¸¤ (31.1g)</option>
      </select>
      <button class="refresh-btn" onclick="fetchSilverPrice()">ğŸ”„ åˆ·æ–°</button>
    </div>
    
    <div class="input-group">
      <label>è¾“å…¥ä½ çš„æœˆè–ª (äººæ°‘å¸)</label>
      <div class="input-wrapper">
        <span class="prefix">Â¥</span>
        <input type="number" id="salary" placeholder="ä¾‹å¦‚: 20000" oninput="calculate()">
      </div>
    </div>
    
    <div class="result-card" id="resultCard" style="display: none;">
      <div class="taels" id="taelsResult">0</div>
      <div class="unit">ä¸¤ç™½é“¶</div>
      <div class="context" id="context"></div>
    </div>
    
    <div class="fun-facts">
      <h3>ğŸ“œ å¤ä»£è´­ä¹°åŠ›å‚è€ƒ</h3>
      <ul>
        <li>ğŸš 1ä¸¤é“¶å­ â‰ˆ 1çŸ³ç±³ (çº¦150æ–¤)</li>
        <li>ğŸ  æ¸…æœä¸€é—´æ™®é€šæˆ¿å­ â‰ˆ 50-100ä¸¤</li>
        <li>ğŸ‘” å¿ä»¤å¹´ä¿¸ â‰ˆ 45ä¸¤</li>
        <li>ğŸ‘· æ™®é€šå·¥äººæœˆè–ª â‰ˆ 1-2ä¸¤</li>
        <li>ğŸ¥¢ ä¸€é¡¿é¥­ â‰ˆ 20-50æ–‡ (0.02-0.05ä¸¤)</li>
      </ul>
    </div>
  </div>

  <script>
    let silverPricePerGram = 0; // USD
    let exchangeRate = 7.25; // CNY per USD
    
    async function fetchSilverPrice() {
      const priceEl = document.getElementById('silverPrice');
      const changeEl = document.getElementById('priceChange');
      
      priceEl.textContent = 'åŠ è½½ä¸­...';
      changeEl.textContent = '';
      
      try {
        // Using a CORS proxy or fallback to static price
        // In production, you'd use a proper API
        const response = await fetch('https://api.metals.dev/v1/latest?api_key=demo&currency=USD&unit=g');
        const data = await response.json();
        
        if (data.metals && data.metals.silver) {
          silverPricePerGram = data.metals.silver;
          const pricePerOunce = silverPricePerGram * 31.1035;
          priceEl.textContent = `$${pricePerOunce.toFixed(2)}/ç›å¸`;
          changeEl.innerHTML = `<span>â‰ˆ Â¥${(silverPricePerGram * exchangeRate).toFixed(2)}/å…‹</span>`;
          changeEl.className = 'change';
        } else {
          throw new Error('No data');
        }
      } catch (e) {
        // Fallback to approximate current price
        silverPricePerGram = 3.84; // USD per gram (from Kitco)
        priceEl.textContent = `$119.31/ç›å¸`;
        changeEl.innerHTML = `<span class="up">+2.36%</span> â‰ˆ Â¥${(silverPricePerGram * exchangeRate).toFixed(2)}/å…‹`;
        changeEl.className = 'change';
      }
      
      calculate();
    }
    
    function calculate() {
      const salary = parseFloat(document.getElementById('salary').value) || 0;
      const taelGrams = parseFloat(document.getElementById('taelType').value);
      const resultCard = document.getElementById('resultCard');
      const taelsResult = document.getElementById('taelsResult');
      const contextEl = document.getElementById('context');
      
      if (salary <= 0 || silverPricePerGram <= 0) {
        resultCard.style.display = 'none';
        return;
      }
      
      // Calculate: salary (CNY) -> USD -> grams of silver -> taels
      const salaryUSD = salary / exchangeRate;
      const silverGrams = salaryUSD / silverPricePerGram;
      const taels = silverGrams / taelGrams;
      
      taelsResult.textContent = taels.toFixed(2);
      resultCard.style.display = 'block';
      
      // Fun context
      let context = '';
      if (taels < 1) {
        context = 'ğŸ˜… åœ¨å¤ä»£å½“ä¸ªå°å·¥éƒ½ä¸å¤Ÿ...';
      } else if (taels < 3) {
        context = 'ğŸ‘· ç›¸å½“äºå¤ä»£æ™®é€šå·¥äººæœˆè–ª';
      } else if (taels < 10) {
        context = 'ğŸ§‘â€ğŸ« ç›¸å½“äºå¤ä»£æ•™ä¹¦å…ˆç”Ÿæ°´å¹³';
      } else if (taels < 30) {
        context = 'ğŸ‘¨â€ğŸ’¼ ç›¸å½“äºå¤ä»£å°å•†äººæ”¶å…¥';
      } else if (taels < 50) {
        context = 'ğŸ–ï¸ å·²ç»è¶…è¿‡å¿ä»¤å¹´ä¿¸äº†ï¼';
      } else if (taels < 100) {
        context = 'ğŸ  ä¸€ä¸ªæœˆèƒ½ä¹°åŠé—´æˆ¿å­';
      } else {
        context = 'ğŸ¤‘ åœŸè±ªï¼å¤ä»£å¤§è´¢ä¸»çº§åˆ«';
      }
      
      context += `<br><br>ğŸ“Š æ¢ç®—ï¼š${silverGrams.toFixed(1)}å…‹ç™½é“¶ = ${taels.toFixed(2)}ä¸¤`;
      contextEl.innerHTML = context;
    }
    
    // Initialize
    document.getElementById('taelType').addEventListener('change', calculate);
    fetchSilverPrice();
  </script>
</body>
</html>
